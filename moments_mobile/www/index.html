<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
        <title></title>

        <link href="css/normalize.css" rel="stylesheet">
        <link href="css/style.css"     rel="stylesheet">

        <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
        <link href="css/ionic.app.css" rel="stylesheet">
        -->

        <script type="text/javascript" src="js/lib/jquery-2.1.4.min.js"></script>
        <script type="text/javascript" src="js/lib/underscore-min-1.8.3.js"></script>
        <script type="text/javascript" src="js/lib/backbone-min-1.2.0.js"></script>
        <script type="text/javascript" src="js/lib/jquery.easing.1.3.js"></script>

        <script src="js/app.js"></script>
        <script src="js/scroll_view.js"></script>
        <script src="js/moments_view.js"></script>
    </head>

    <body>
        <div class="header fixed">Moments</div>
    
        <div id="scrollable_body"><div id="moments_body_container"></div></div>
    </body>

    <script id="tpl_moment_single" type="text/template">
        <div class="moment_single" data-id="<%- d.id %>">
            <div class="heading">
                <div class="name_container">
                    <div class="username"><%- d.username %></div>
                    <% _.each(d.members, function (membername) { %>
                        <div class="membername"><%- membername %></div>
                    <% }); %>
                </div>
                <div class="moment_meta"><%- d.location_name %>, <%- d.posted_on %></div>
                <div class="description"><%- d.description %></div>
            </div>
            <div class="photos_window">
                <div class="photos_container">
                    <% _.each(d.photos, function (photo) { %>
                        <div class="single_photo">
                            <img class="moment_photo" src="<%- photo.src %>">
                            <div class="comments_container">
                                <div class="snap_count"><%- photo.snaps %></div>
                                <% _.each(photo.comments, function (comment) { %>
                                    <div class="comment">
                                        <div class="username"><%- comment.username %></div>
                                        <%- comment.comment %>
                                    </div>
                                <% }); %>
                                <div class="comment new_comment">
                                    <div class="username"><%- 'logged-in user' %></div>
                                    <textarea class="comment_input" placeholder="add a comment"></textarea>
                                </div>
                            </div>
                        </div>
                    <% }); %>
                </div>
            </div>
            <div class="views_comments_container">
                <div class="view_count"><%- d.view_count %> views. </div>
                <div class="comment_count"><%- d.comment_count %> comments.</div>
            </div>
        </div>
    </script>

</html>

